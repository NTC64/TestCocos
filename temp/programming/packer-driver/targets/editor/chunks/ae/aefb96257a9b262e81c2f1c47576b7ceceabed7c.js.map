{"version":3,"sources":["file:///D:/Creator/source/Test/assets/biControl.ts"],"names":["_decorator","Component","Vec3","input","Input","tween","ccclass","MovingCircle","isMovingBack","start","on","EventType","MOUSE_DOWN","onMouseDown","moveCircle","moveTime","node","stop","startPosition","endPosition","to","position","call","moveBack","event","v","s","getButton","x","Math","abs"],"mappings":"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","sourcesContent":["import { _decorator, Component, Vec3, input, Input, tween } from 'cc';\r\nconst { ccclass } = _decorator;\r\n\r\n@ccclass('MovingCircle')\r\nexport class MovingCircle extends Component {\r\n    private isMovingBack: boolean = false;\r\n    start() {\r\n        // Bắt đầu di chuyển hình tròn khi Scene được khởi tạo\r\n        input.on(Input.EventType.MOUSE_DOWN, this.onMouseDown, this);\r\n        this.moveCircle(1);\r\n    }\r\n\r\n    moveCircle(moveTime) {\r\n        if (this.isMovingBack) {\r\n            tween(this.node).stop();\r\n            this.isMovingBack = false;\r\n        }\r\n        // Vị trí ban đầu của hình tròn\r\n        const startPosition = new Vec3(-203.75, -117.002, 0);\r\n\r\n        // Vị trí kết thúc của hình tròn\r\n        const endPosition = new Vec3(191.574, -117.002, 0);\r\n\r\n\r\n        // Tween để di chuyển từ vị trí ban đầu đến vị trí kết thúc\r\n        tween(this.node)\r\n        .stop()\r\n            .to(moveTime, { position: endPosition })\r\n            .call(() => {\r\n                // Gọi lại hàm moveCircle khi di chuyển kết thúc để hình tròn quay lại\r\n                this.moveBack(1);\r\n            })\r\n            .start();\r\n    }\r\n\r\n    moveBack(moveTime) {\r\n        if (!this.isMovingBack) {\r\n            tween(this.node).stop();\r\n            this.isMovingBack = true;\r\n        }\r\n        // Vị trí ban đầu của hình tròn\r\n        const startPosition = new Vec3(-203.75, -117.002, 0);\r\n\r\n        // Vị trí kết thúc của hình tròn\r\n        const endPosition = new Vec3(191.574, -117.002, 0);\r\n\r\n        // Tween để di chuyển từ vị trí kết thúc về vị trí ban đầu\r\n        tween(this.node)\r\n        .stop()\r\n            .to(moveTime, { position: startPosition })\r\n            .call(() => {\r\n                // Gọi lại hàm moveCircle khi di chuyển kết thúc để bắt đầu chu kỳ mới\r\n                this.moveCircle(1);\r\n            })\r\n            .start();\r\n    }\r\n    onMouseDown(event) {\r\n        // Kiểm tra nếu người dùng click chuột trái\r\n        const v= (191.574+203.75)/60;\r\n        let s=0;\r\n        if (event.getButton() === 0) {\r\n            // Ngay lập tức đổi chiều khi click chuột trái\r\n            tween(this.node).stop();\r\n            if (this.isMovingBack) {\r\n                if(this.node.position.x >=0){\r\n                    s = 191.574-this.node.position.x;\r\n                    this.moveCircle((s/v)/60);\r\n                }\r\n                else{\r\n                    s=Math.abs(this.node.position.x)+191.574;\r\n                    this.moveCircle((s/v)/60);\r\n                }\r\n            } else {\r\n                if(this.node.position.x >=0){\r\n                  \r\n                    s = 203.75+this.node.position.x;\r\n                    this.moveBack((s/v)/60);\r\n                }\r\n                else{\r\n                    s=203.75-Math.abs(this.node.position.x);\r\n                    this.moveBack((s/v)/60);\r\n                }\r\n            \r\n            }\r\n        }\r\n    }\r\n}"]}